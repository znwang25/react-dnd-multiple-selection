{"version":3,"sources":["ItemTypes.js","CardContent.js","CardsDragPreview.js","CardDragLayer.js","Card.js","Container.js","App.js","index.js"],"names":["CardContent","url","className","src","width","height","draggable","CardsDragPreview","cards","slice","map","card","i","key","id","style","zIndex","length","transform","layerStyles","position","pointerEvents","left","top","right","bottom","getItemStyles","currentOffset","display","x","y","filter","CardDragLayer","useDragLayer","monitor","item","getItem","itemType","getItemType","getSourceClientOffset","isDragging","type","ItemTypes","cardsDragStack","renderItem","Card","props","ref","useRef","useDrag","begin","draggedCard","order","selectedCards","find","clearItemSelection","otherCards","concat","splice","findIndex","c","cardsIDs","includes","end","rearrangeCards","collect","drag","preview","useDrop","accept","hover","dragIndex","index","hoverIndex","hoverBoundingRect","current","getBoundingClientRect","midX","newInsertIndex","getClientOffset","setInsertIndex","hovered","isOver","drop","useEffect","getEmptyImage","captureDraggingState","opacity","styleClasses","isSelected","push","insertLineOnLeft","join","onClick","e","onSelectionChange","metaKey","shiftKey","insertLineOnRight","cardReducer","state","action","init_state","lastSelectedIndex","newSelectedCards","newLastSelectedIndex","newCards","insertIndex","Error","Array","keys","Container","useReducer","dispatch","handleItemSelection","cmdKey","apply","foundIndex","f","finalList","a","dragItem","dividerIndex","draggedCards","upperHalfRemainingCards","dc","lowerHalfRemainingCards","App","DndProvider","backend","HTML5Backend","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f6e9321c.chunk.js","sourcesContent":["export default {\n  CARD: \"card\"\n};\n","import React from \"react\";\n\nconst CardContent = ({ url }) => (\n  <div className=\"card-outer\">\n    <div className=\"card-inner\">\n      <img src={url} width=\"80\" height=\"45\" draggable=\"false\" />\n    </div>\n  </div>\n);\n\nexport default CardContent;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CardContent from \"./CardContent\";\n\nconst CardsDragPreview = ({ cards }) => {\n  return (\n    <div>\n      {cards.slice(0, 3).map((card, i) => (\n        <div\n          key={card.id}\n          className=\"card card-dragged\"\n          style={{\n            zIndex: cards.length - i,\n            transform: `rotateZ(${-i * 2.5}deg)`\n          }}\n        >\n          <CardContent url={card.url} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nCardsDragPreview.propTypes = {\n  cards: PropTypes.array\n};\n\nexport default CardsDragPreview;\n","import React from \"react\";\nimport { useDragLayer } from \"react-dnd\";\nimport ItemTypes from \"./ItemTypes\";\nimport CardsDragPreview from \"./CardsDragPreview\";\n\nconst layerStyles = {\n  position: \"fixed\",\n  pointerEvents: \"none\",\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0\n};\n\nconst getItemStyles = (currentOffset) => {\n  if (!currentOffset) {\n    return {\n      display: \"none\"\n    };\n  }\n  const { x, y } = currentOffset;\n  return {\n    transform: `translate(${x}px, ${y}px)`,\n    filter: \"drop-shadow(0 2px 12px rgba(0,0,0,0.45))\"\n  };\n};\n\nexport default function CardDragLayer() {\n  const { itemType, isDragging, item, currentOffset } = useDragLayer(\n    (monitor) => ({\n      item: monitor.getItem(),\n      itemType: monitor.getItemType(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging()\n    })\n  );\n\n  const renderItem = (type, item) => {\n    switch (type) {\n      case ItemTypes.CARD:\n        return <CardsDragPreview cards={item.cardsDragStack} />;\n      default:\n        return null;\n    }\n  };\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div style={getItemStyles(currentOffset)}>\n        {renderItem(itemType, item)}\n      </div>\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport ItemTypes from \"./ItemTypes\";\nimport CardContent from \"./CardContent\";\n\nexport default function Card(props) {\n  const ref = useRef(null);\n\n  const [{ isDragging }, drag, preview] = useDrag({\n    item: { type: ItemTypes.CARD },\n    begin: (monitor) => {\n      const { id, order, url } = props;\n      const draggedCard = { id, order, url };\n      let cards;\n      if (props.selectedCards.find((card) => card.id === props.id)) {\n        cards = props.selectedCards;\n      } else {\n        props.clearItemSelection();\n        cards = [draggedCard];\n      }\n      const otherCards = cards.concat();\n      otherCards.splice(\n        cards.findIndex((c) => c.id === props.id),\n        1\n      );\n      const cardsDragStack = [draggedCard, ...otherCards];\n      const cardsIDs = cards.map((c) => c.id);\n      return { cards, cardsDragStack, draggedCard, cardsIDs };\n    },\n    isDragging: (monitor) => {\n      return monitor.getItem().cardsIDs.includes(props.id);\n    },\n    end: (item, monitor) => {\n      props.rearrangeCards(item);\n      props.clearItemSelection();\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const [{ hovered }, drop] = useDrop({\n    accept: ItemTypes.CARD,\n    // drop: () => ({\n    //               boxType: \"Picture\"\n    //   }),\n    hover: (item, monitor) => {\n      const dragIndex = item.draggedCard.index;\n      const hoverIndex = props.index;\n\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n\n      // Get horizontal middle\n      const midX =\n        hoverBoundingRect.left +\n        (hoverBoundingRect.right - hoverBoundingRect.left) / 2;\n      // Determine mouse position\n      const pointerOffset = monitor.getClientOffset();\n      const newInsertIndex =\n        pointerOffset.x < midX ? hoverIndex : hoverIndex + 1;\n      props.setInsertIndex(dragIndex, hoverIndex, newInsertIndex);\n    },\n    collect: (monitor) => ({\n      hovered: monitor.isOver()\n    })\n  });\n\n  drag(drop(ref));\n\n  const onClick = (e) => {\n    props.onSelectionChange(props.index, e.metaKey, e.shiftKey);\n  };\n\n  useEffect(() => {\n    // This gets called after every render, by default\n    // (the first one, and every one after that)\n\n    // Use empty image as a drag preview so browsers don't draw it\n    // and we can draw whatever we want on the custom drag layer instead.\n    preview(getEmptyImage(), {\n      // IE fallback: specify that we'd rather screenshot the node\n      // when it already knows it's being dragged so we can hide it with CSS.\n      captureDraggingState: true\n    });\n    // If you want to implement componentWillUnmount,\n    // return a function from here, and React will call\n    // it prior to unmounting.\n    // return () => console.log('unmounting...');\n  }, []);\n\n  const { url } = props;\n  const opacity = isDragging ? 0.4 : 1;\n\n  const styleClasses = [];\n\n  // if (isDragging) {\n  //   styleClasses.push('card-wrapper-dragging');\n  // }\n  if (props.isSelected) {\n    styleClasses.push(\"card-wrapper-selected\");\n  }\n\n  return (\n    <div key={\"card-div-\" + props.id} style={{ position: \"relative\" }}>\n      {props.insertLineOnLeft && hovered && (\n        <div className=\"insert-line-left\" />\n      )}\n      <div className={\"card-wrapper \" + styleClasses.join(\" \")}>\n        <div ref={ref} className=\"card\" onClick={onClick} style={{ opacity }}>\n          <CardContent url={url} />\n        </div>\n      </div>\n      {props.insertLineOnRight && hovered && (\n        <div className=\"insert-line-right\" />\n      )}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  selectedCards: PropTypes.array.isRequired,\n  clearItemSelection: PropTypes.func.isRequired,\n  rearrangeCards: PropTypes.func.isRequired,\n  setInsertIndex: PropTypes.func.isRequired,\n  onSelectionChange: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired,\n  index: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  insertLineOnLeft: PropTypes.bool.isRequired,\n  insertLineOnRight: PropTypes.bool.isRequired,\n  isSelected: PropTypes.bool.isRequired\n};\n","import React, { useReducer } from \"react\";\nimport CardDragLayer from \"./CardDragLayer\";\nimport Card from \"./Card\";\n\nconst TOTAL_ITEMS = 50;\n\nconst cardReducer = (state, action) => {\n  switch (action.type) {\n    case \"CLEAR_SELECTION\":\n      return {\n        ...state,\n        selectedCards: init_state.selectedCards,\n        lastSelectedIndex: init_state.lastSelectedIndex\n      };\n    case \"UPDATE_SELECTION\":\n      return {\n        ...state,\n        selectedCards: action.newSelectedCards,\n        lastSelectedIndex: action.newLastSelectedIndex\n      };\n    case \"REARRANGE_CARDS\":\n      return { ...state, cards: action.newCards };\n    case \"SET_INSERTINDEX\":\n      return {\n        ...state,\n        dragIndex: action.dragIndex,\n        hoverIndex: action.hoverIndex,\n        insertIndex: action.insertIndex\n      };\n    default:\n      throw new Error();\n  }\n};\n\nconst init_cards = [...Array(TOTAL_ITEMS).keys()].map((i) => ({\n  id: i + 1,\n  order: i,\n  url: \"https://picsum.photos/80/45?random&\" + i\n}));\n\nconst init_state = {\n  cards: init_cards,\n  selectedCards: [],\n  lastSelectedIndex: -1,\n  dragIndex: -1,\n  hoverIndex: -1,\n  insertIndex: -1,\n  isDragging: false\n};\n\nexport default function Container() {\n  const [state, dispatch] = useReducer(cardReducer, init_state);\n\n  const clearItemSelection = () => {\n    dispatch({ type: \"CLEAR_SELECTION\" });\n  };\n\n  const handleItemSelection = (index, cmdKey, shiftKey) => {\n    let newSelectedCards;\n    const cards = state.cards;\n    const card = index < 0 ? \"\" : cards[index];\n    const newLastSelectedIndex = index;\n\n    if (!cmdKey && !shiftKey) {\n      newSelectedCards = [card];\n    } else if (shiftKey) {\n      if (state.lastSelectedIndex >= index) {\n        newSelectedCards = [].concat.apply(\n          state.selectedCards,\n          cards.slice(index, state.lastSelectedIndex)\n        );\n      } else {\n        newSelectedCards = [].concat.apply(\n          state.selectedCards,\n          cards.slice(state.lastSelectedIndex + 1, index + 1)\n        );\n      }\n    } else if (cmdKey) {\n      const foundIndex = state.selectedCards.findIndex((f) => f === card);\n      // If found remove it to unselect it.\n      if (foundIndex >= 0) {\n        newSelectedCards = [\n          ...state.selectedCards.slice(0, foundIndex),\n          ...state.selectedCards.slice(foundIndex + 1)\n        ];\n      } else {\n        newSelectedCards = [...state.selectedCards, card];\n      }\n    }\n    const finalList = cards\n      ? cards.filter((f) => newSelectedCards.find((a) => a === f))\n      : [];\n    dispatch({\n      type: \"UPDATE_SELECTION\",\n      newSelectedCards: finalList,\n      newLastSelectedIndex: newLastSelectedIndex\n    });\n  };\n\n  const rearrangeCards = (dragItem) => {\n    let cards = state.cards.slice();\n    const draggedCards = dragItem.cards;\n\n    let dividerIndex;\n    if ((state.insertIndex >= 0) & (state.insertIndex < cards.length)) {\n      dividerIndex = state.insertIndex;\n    } else {\n      // If missing insert index, put the dragged cards to the end of the queue\n      dividerIndex = cards.length;\n    }\n    const upperHalfRemainingCards = cards\n      .slice(0, dividerIndex)\n      .filter((c) => !draggedCards.find((dc) => dc.id === c.id));\n    const lowerHalfRemainingCards = cards\n      .slice(dividerIndex)\n      .filter((c) => !draggedCards.find((dc) => dc.id === c.id));\n    const newCards = [\n      ...upperHalfRemainingCards,\n      ...draggedCards,\n      ...lowerHalfRemainingCards\n    ];\n    dispatch({ type: \"REARRANGE_CARDS\", newCards: newCards });\n  };\n\n  const setInsertIndex = (dragIndex, hoverIndex, newInsertIndex) => {\n    if (\n      state.dragIndex === dragIndex &&\n      state.hoverIndex === hoverIndex &&\n      state.insertIndex === newInsertIndex\n    ) {\n      return;\n    }\n    dispatch({\n      type: \"SET_INSERTINDEX\",\n      dragIndex: dragIndex,\n      hoverIndex: hoverIndex,\n      insertIndex: newInsertIndex\n    });\n  };\n\n  return (\n    <main>\n      <CardDragLayer />\n      <div className=\"container\">\n        {state.cards.map((card, i) => {\n          const insertLineOnLeft =\n            state.hoverIndex === i && state.insertIndex === i;\n          const insertLineOnRight =\n            state.hoverIndex === i && state.insertIndex === i + 1;\n          return (\n            <Card\n              key={\"card-\" + card.id}\n              id={card.id}\n              index={i}\n              order={card.order}\n              url={card.url}\n              selectedCards={state.selectedCards}\n              rearrangeCards={rearrangeCards}\n              setInsertIndex={setInsertIndex}\n              onSelectionChange={handleItemSelection}\n              clearItemSelection={clearItemSelection}\n              isSelected={state.selectedCards.includes(card)}\n              insertLineOnLeft={insertLineOnLeft}\n              insertLineOnRight={insertLineOnRight}\n            />\n          );\n        })}\n      </div>\n    </main>\n  );\n}\n","import React from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport Container from \"./Container.js\";\nimport \"./styles.css\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n        <h2>Drag and drop multiple items with React DnD</h2>\n        <h4>Use Shift or Cmd key to multi-select</h4>\n      <DndProvider backend={HTML5Backend}>\n        <Container />\n      </DndProvider>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}